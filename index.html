<!doctype html>
<html>
  <head>
    <title>Worlds | Online Text-based Game</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  </head>
  <body>
    <pre id="game"> <!-- TODO -->
      Welcome to Worlds! <noscript>Unfourtunately, this game requires JavaScript.</noscript>
      In Worlds, you have multiple worlds to go to. You can have a profession.
      There are different worlds. Let's start with mining, ok?
    </pre>
    <script>
      // Superglobals
      var game = document.getElementById("game");
      function output(str) {
        game.innerHTML += str + "\n";
      }
      function main() {
        // Game (TODO)
        output("Loading mining world...");
        setTimeout(mine, 2500);
      }
      main();
      function MiningWorld() {
        if (!new.target) {
          return new MiningWorld();
        }
      }
      MiningWorld.prototype = {
        get layers() {
          var layers = [];
          for (let i = 0; i < 8; i++) {
            layers.push([]);
            for (let j = 0; j < 8; j++) {
              if (j == 0 && i == 0) {
                layers[i].push("g");
              } else if (i == 0) {
                if (Math.random() < 0.3) {
                  layers[i].push("s");
                } else {
                  layers[i].push("d");
                }
              }
            }
          }
          return layers;
        }
      };
      MiningWorld.blockKey = [
        "~": NaN, // Water
        "g": 1, // Grass
        "d": 1, // Dirt
        "s": 2, // Stone
        "c": 3, // Coal Ore
        "i": 5, // Iron Ore
        "s": 10, // Silver Ore
        "l": 15, // Gold Ore
        "a": 20, // Diamond Ore
        "b": Infinity // Bedrock
      ]
      function mine() {
        var miningWorld = MiningWorld()
        
      }
    </script>
  </body>
</html>
